<div class="rental-create-page">
  <div class="rental-create-page__content">
    <div class="rental-create-page__car">
      <app-header title="Selected car" description="Car details" />
      <car-rental-table [car]="car" [header]="header"></car-rental-table>
    </div>

    <div class="rental-create-page__line"></div>

    <app-header
      title="Customer details"
      description="Choose customer or fill customer details."
    />
    <form
      [formGroup]="formGroup"
      class="form"
      (ngSubmit)="onSubmit($event)"
    >
      <div class="customer">
        <customer-combo-box
          [customers]="customers"
          (customerSelect)="onCustomerSelect($event)"
        ></customer-combo-box>
      </div>

      <div class="first-name">
        <app-input
          id="first-name"
          name="first-name"
          type="text"
          autocomplete="given-name"
          label="First name"
          [control]="firstName"
          class="label"
          [readonly]="readonly"
          required
        />
        <div
          *ngIf="firstName?.invalid && (firstName?.dirty || firstName?.touched)"
          class="form__error"
        >
          <div *ngIf="firstName?.errors?.['required']">
            First name is required
          </div>
          <div *ngIf="firstName?.errors?.['format']">
            First name has to be text
          </div>
        </div>
      </div>

      <div class="last-name">
        <app-input
          id="last-name"
          name="last-name"
          type="text"
          autocomplete="family-name"
          label="Last name"
          [control]="lastName"
          [readonly]="readonly"
          class="label"
          required
        />
        <div
          *ngIf="lastName?.invalid && (lastName?.dirty || lastName?.touched)"
          class="form__error"
        >
          <div *ngIf="lastName?.errors?.['required']">
            Last name is required
          </div>
          <div *ngIf="lastName?.errors?.['format']">
            First name has to be text
          </div>
        </div>
      </div>

      <div class="email">
        <app-input
          id="email"
          name="email"
          type="text"
          autocomplete="email"
          label="Email"
          [control]="email"
          [readonly]="readonly"
          class="label"
          required
        />
        <div
          *ngIf="email?.invalid && (email?.dirty || email?.touched)"
          class="form__error"
        >
          <div *ngIf="email?.errors?.['required']">Email is required</div>
          <div *ngIf="email?.errors?.['email']">No proper format</div>
        </div>
      </div>

      <div class="street">
        <app-input
          id="street"
          name="street"
          type="text"
          autocomplete="street"
          label="Street"
          [control]="street"
          [readonly]="readonly"
          class="label"
          required
        />
        <div
          *ngIf="street?.invalid && (street?.dirty || street?.touched)"
          class="form__error"
        >
          <div *ngIf="street?.errors?.['required']">Street is required</div>
        </div>
      </div>

      <div class="building-number">
        <app-input
          id="building-number"
          name="building-number"
          type="text"
          autocomplete="building-number"
          label="Building"
          [control]="buildingNumber"
          [readonly]="readonly"
          class="label"
          required
        />
        <div
          *ngIf="
        buildingNumber?.invalid &&
        (buildingNumber?.dirty || buildingNumber?.touched)
      "
          class="form__error"
        >
          <div *ngIf="buildingNumber?.errors?.['required']">
            Building is required
          </div>
          <div *ngIf="buildingNumber?.errors?.['format']">
            Building has to be a number
          </div>
        </div>
      </div>

      <div class="city">
        <app-input
          id="city"
          name="city"
          type="text"
          autocomplete="city"
          label="City"
          [control]="city"
          [readonly]="readonly"
          class="label"
          required
        />
        <div
          *ngIf="city?.invalid && (city?.dirty || city?.touched)"
          class="form__error"
        >
          <div *ngIf="city?.errors?.['required']">City is required</div>
          <div *ngIf="city?.errors?.['format']">City has to be text</div>
        </div>
      </div>

      <div class="country">
        <app-input
          id="country"
          name="country"
          type="text"
          autocomplete="country"
          label="Country"
          [control]="country"
          [readonly]="readonly"
          class="label"
          required
        />
        <div
          *ngIf="country?.invalid && (country?.dirty || country?.touched)"
          class="form__error"
        >
          <div *ngIf="country?.errors?.['required']">Country is required</div>
          <div *ngIf="country?.errors?.['format']">Country has to be text</div>
        </div>
      </div>

      <div class="postal-code">
        <app-input
          id="postal-code"
          name="postal-code"
          type="text"
          autocomplete="postal-code"
          label="Postal code"
          [control]="postalCode"
          [readonly]="readonly"
          class="label"
          required
        />
        <div
          *ngIf="postalCode?.invalid && (postalCode?.dirty || postalCode?.touched)"
          class="form__error"
        >
          <div *ngIf="postalCode?.errors?.['required']">
            Postal code is required
          </div>

          <div *ngIf="postalCode?.errors?.['format']">
            Wrong postal code format
          </div>
        </div>
      </div>
      <app-button type="submit" label="Create" class="button button--submit" />
    </form>
  </div>
</div>
